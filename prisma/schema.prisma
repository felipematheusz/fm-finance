generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// npx prisma generate

// npx prisma migrate dev

// model FixedExpense {
//   id              String        @id @default(cuid())
//   name            String
//   category        String
//   value           Float
//   dueDate         String
//   fixedExpensesId String
//   FixedExpenses   FixedExpenses @relation(fields: [fixedExpensesId], references: [id])
// }

// model FixedExpenses {
//   id                         String         @id @default(cuid())
//   totalValue                 Float          @default(0)
//   targetPercentage           Float
//   targetPercentageValue      Float
//   targetPercentageMonthValue Float
//   userId                     String         @unique
//   FixedExpense               FixedExpense[]
//   User                       User           @relation(fields: [userId], references: [id])
// }

// model Percentages {
//   id                         String @id @default(cuid())
//   salary                     Float
//   fixedExpensesPercentage    Float
//   variableExpensesPercentage Float
//   investmentsPercentage      Float
//   goalsPercentage            Float
//   userId                     String @unique
//   User                       User   @relation(fields: [userId], references: [id])
// }

model Expense {
  id            String      @id @default(cuid())
  name          String
  value         Float
  category      String
  typeExpenseId String
  TypeExpense   TypeExpense @relation(fields: [typeExpenseId], references: [id])
}

model TypeExpense {
  id                         String    @id @default(cuid())
  name                       String
  totalValue                 Float     @default(0)
  targetPercentage           Float
  targetPercentageValue      Float
  targetPercentageMonthValue Float
  userId                     String
  expense                    Expense[]
  User                       User      @relation(fields: [userId], references: [id])
}

model Category {
  id     String @id @default(cuid())
  name   String
  userId String
  User   User   @relation(fields: [userId], references: [id])
}

model User {
  id          String        @id @default(cuid())
  name        String
  email       String        @unique
  password    String
  salary      Float
  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @updatedAt
  category    Category[]
  typeExpense TypeExpense[]
}
